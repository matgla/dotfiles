(deflisten current_song 
  `common/scripts/scroll_song.sh` 
)


(deflisten music_cover 
  `playerctl --follow metadata mpris:artUrl`
)

(defwidget music []
  (box
    :space-evenly false 
    :spacing 8
    (box 
      :width 22
      :height 22
      :class {strlength(music_cover) != 0 ? "music_cover" : ""}
      :style "background-image: url('${music_cover}')")
    (label
      :limit-width 60
      :text current_song)
  )
)

